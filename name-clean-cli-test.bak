#lang racket

(require rackunit "name-clean-cli.rkt")

(define filenames-in
  (map string->path
       (list
        "Commands.xml"
        "test_folder/Test File S01E02 XviD.h264.(Oh-Yeah).avi"
        "test_folder")))

(define filenames-out
  (map string->path
       (list
        "Commands.xml"
        "test_folder/Test File S01E02.avi"
        "test_folder/Test File S01E02.avi")))

(test-case
 "Check handle-input with single filenames and lists" 
 (map (lambda (x y) (check-equal? (map get-new-path (handle-input x)) (list y)))
      filenames-in 
      filenames-out)
 (check-equal? (map get-new-path 
                    (handle-input filenames-in))
               filenames-out))